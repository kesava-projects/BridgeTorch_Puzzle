*,*:before,*:after{margin:0;padding:0;box-sizing:border-box}:root{--bg: #0b0e17;--surface: #151a2d;--surface2: #1c2240;--border: #2a3158;--text: #e4e6f0;--text-dim: #8a8fb0;--accent: #fbbf24;--accent2: #f59e0b;--primary: #6366f1;--primary-hover: #818cf8;--danger: #ef4444;--success: #22c55e;--radius: 12px;--font: "Inter", system-ui, sans-serif}html{font-size:16px}body{font-family:var(--font);background:var(--bg);color:var(--text);min-height:100vh;overflow-x:hidden}.btn{display:inline-flex;align-items:center;gap:6px;padding:10px 22px;border:none;border-radius:var(--radius);font-family:var(--font);font-size:.95rem;font-weight:600;cursor:pointer;transition:all .2s}.btn:disabled{opacity:.4;cursor:not-allowed}.btn-primary{background:var(--primary);color:#fff}.btn-primary:hover:not(:disabled){background:var(--primary-hover);transform:translateY(-1px)}.btn-secondary{background:var(--surface2);color:var(--text);border:1px solid var(--border)}.btn-secondary:hover:not(:disabled){background:var(--border)}.btn-small{padding:6px 14px;font-size:.85rem;background:var(--surface2);color:var(--text);border:1px solid var(--border);border-radius:8px}.btn-small:hover{background:var(--border)}.setup-screen{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:24px;background:radial-gradient(ellipse at top,#1a1040 0%,var(--bg) 70%)}.setup-card{width:100%;max-width:520px;background:var(--surface);border:1px solid var(--border);border-radius:20px;padding:36px}.setup-title{font-size:2rem;text-align:center;margin-bottom:4px}.setup-subtitle{text-align:center;color:var(--text-dim);margin-bottom:24px}.rules-box{background:var(--surface2);border:1px solid var(--border);border-radius:var(--radius);padding:16px 20px;margin-bottom:24px}.rules-box h3{margin-bottom:8px;font-size:.95rem}.rules-box ul{list-style:none;font-size:.88rem;color:var(--text-dim);line-height:1.8}.rules-box li:before{content:"â€¢";color:var(--accent);margin-right:8px}.section-heading{font-size:1.1rem;margin-bottom:12px}.player-list{display:flex;flex-direction:column;gap:10px;margin-bottom:20px}.player-row{display:flex;align-items:center;gap:10px}.player-dot{width:14px;height:14px;border-radius:50%;flex-shrink:0}.input-name{flex:1;padding:8px 12px;border-radius:8px;border:1px solid var(--border);background:var(--bg);color:var(--text);font-size:.9rem;font-family:var(--font)}.input-name:focus{outline:none;border-color:var(--primary)}.time-input-group{display:flex;align-items:center;gap:4px}.input-time{width:60px;padding:8px;border-radius:8px;border:1px solid var(--border);background:var(--bg);color:var(--text);font-size:.9rem;font-family:var(--font);text-align:center}.input-time:focus{outline:none;border-color:var(--primary)}.time-unit{color:var(--text-dim);font-size:.8rem}.btn-remove{width:30px;height:30px;border-radius:50%;border:1px solid var(--border);background:transparent;color:var(--text-dim);cursor:pointer;font-size:.8rem;display:flex;align-items:center;justify-content:center;transition:all .2s}.btn-remove:hover:not(:disabled){background:var(--danger);color:#fff;border-color:var(--danger)}.btn-remove:disabled{opacity:.3;cursor:not-allowed}.setup-actions{display:flex;justify-content:space-between;gap:12px}.game-screen{min-height:100vh;display:flex;flex-direction:column;background:linear-gradient(180deg,#070b1a,#0f1629 40%,#131b35)}.game-header{display:flex;align-items:center;justify-content:space-between;padding:14px 24px;background:var(--surface);border-bottom:1px solid var(--border)}.game-header h1{font-size:1.2rem}.header-center{display:flex;gap:24px;align-items:center}.timer{font-size:1.3rem;font-weight:700;color:var(--accent)}.target{font-size:.9rem;color:var(--text-dim)}.phase-bar{text-align:center;padding:12px;background:var(--surface2);color:var(--accent);font-weight:600;font-size:1rem;border-bottom:1px solid var(--border)}.bridge-scene{flex:1;display:flex;align-items:stretch;position:relative;min-height:400px;overflow:hidden}.stars{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;z-index:0}.star{position:absolute;width:2px;height:2px;background:#fff;border-radius:50%;animation:twinkle 2s ease-in-out infinite alternate}@keyframes twinkle{0%{opacity:.2}to{opacity:1}}.moon{position:absolute;top:20px;right:60px;width:50px;height:50px;border-radius:50%;background:radial-gradient(circle at 35% 35%,#fef3c7,#fcd34d);box-shadow:0 0 40px 10px #fcd34d40;z-index:1}.bank{flex:1;display:flex;flex-direction:column;align-items:center;padding:20px 12px;z-index:2;position:relative}.bank:after{content:"";position:absolute;bottom:0;left:0;right:0;height:80px;background:linear-gradient(0deg,#1a3a1a 0%,#0d2610 60%,transparent 100%);border-radius:0;z-index:-1}.bank-label{font-weight:700;font-size:.95rem;margin-bottom:12px;padding:6px 14px;background:#0006;border-radius:20px;white-space:nowrap}.bank-players{display:flex;flex-direction:column;gap:8px;width:100%;max-width:180px}.empty-bank{color:var(--text-dim);font-size:.85rem;text-align:center;padding:20px 0}.player-token{display:flex;align-items:center;gap:10px;padding:8px 12px;border-radius:10px;background:var(--surface);border:2px solid transparent;transition:all .2s;-webkit-user-select:none;user-select:none}.player-token.selectable{cursor:pointer;border-color:var(--border)}.player-token.selectable:hover{border-color:var(--primary);background:var(--surface2);transform:scale(1.03)}.player-token.selected{border-color:var(--accent)!important;background:#fbbf241f;box-shadow:0 0 12px #fbbf2440}.token-avatar{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1rem;color:#fff;flex-shrink:0;text-shadow:0 1px 2px rgba(0,0,0,.3)}.token-info{display:flex;flex-direction:column}.token-name{font-weight:600;font-size:.88rem;line-height:1.2}.token-time{font-size:.75rem;color:var(--text-dim)}.bridge{width:240px;flex-shrink:0;position:relative;display:flex;align-items:center;justify-content:center;z-index:2}.bridge-planks{position:absolute;top:50%;left:0;right:0;transform:translateY(-50%);display:flex;gap:4px;justify-content:center;z-index:2}.plank{width:14px;height:60px;background:linear-gradient(180deg,#8b6914,#6b4f12,#5a4210);border-radius:2px;border:1px solid #4a3a0e}.bridge-rope{position:absolute;left:0;right:0;height:3px;background:#8b7355;z-index:3;border-radius:2px}.bridge-rope.top{top:calc(50% - 35px)}.bridge-rope.bottom{top:calc(50% + 35px)}.water{position:absolute;bottom:0;left:-20px;right:-20px;height:80px;overflow:hidden;z-index:1}.wave{position:absolute;width:200%;height:30px;border-radius:50%;opacity:.4}.wave1{background:#1e40af;bottom:0;left:-50%;animation:wave 4s ease-in-out infinite}.wave2{background:#1d4ed8;bottom:10px;left:-30%;animation:wave 5s ease-in-out infinite reverse}.wave3{background:#2563eb;bottom:20px;left:-40%;animation:wave 6s ease-in-out infinite}@keyframes wave{0%,to{transform:translate(0)}50%{transform:translate(30px)}}.crossing-group{position:absolute;top:50%;transform:translateY(-50%);display:flex;align-items:center;gap:6px;z-index:10;filter:drop-shadow(0 0 20px rgba(251,191,36,.5))}.crossing-group.forward{animation:crossForward 1.8s ease-in-out forwards}.crossing-group.back{animation:crossBack 1.8s ease-in-out forwards}@keyframes crossForward{0%{left:-10px;opacity:0}10%{opacity:1}90%{opacity:1}to{left:calc(100% - 50px);opacity:0}}@keyframes crossBack{0%{left:calc(100% - 50px);opacity:0}10%{opacity:1}90%{opacity:1}to{left:-10px;opacity:0}}.torch-glow{font-size:1.4rem;animation:torchFlicker .3s ease-in-out infinite alternate}@keyframes torchFlicker{0%{filter:brightness(1)}to{filter:brightness(1.4)}}.crossing-player{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;color:#fff;font-size:.9rem;border:2px solid rgba(255,255,255,.3);text-shadow:0 1px 2px rgba(0,0,0,.4)}.action-bar{display:flex;justify-content:center;padding:16px;background:var(--surface);border-top:1px solid var(--border)}.btn-action{padding:12px 36px;font-size:1.05rem}.move-log{padding:16px 24px;background:var(--surface);border-top:1px solid var(--border);max-height:180px;overflow-y:auto}.move-log h3{font-size:.9rem;margin-bottom:8px;color:var(--text-dim)}.log-empty{color:var(--text-dim);font-size:.85rem}.log-entries{display:flex;flex-direction:column;gap:4px}.log-entry{display:flex;align-items:center;gap:10px;padding:4px 8px;border-radius:6px;font-size:.85rem}.log-entry.cross{background:#6366f11a}.log-entry.return{background:#fbbf2414}.log-icon{font-weight:700;font-size:1rem;width:20px;text-align:center}.log-entry.cross .log-icon{color:var(--primary)}.log-entry.return .log-icon{color:var(--accent)}.log-text{flex:1}.log-cost{color:var(--text-dim);font-weight:600;font-size:.8rem}.done-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#000000b3;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);display:flex;align-items:center;justify-content:center;z-index:100;animation:fadeIn .3s ease}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.done-card{background:var(--surface);border:1px solid var(--border);border-radius:20px;padding:40px;text-align:center;max-width:400px;width:90%;animation:scaleIn .3s ease}@keyframes scaleIn{0%{transform:scale(.9);opacity:0}to{transform:scale(1);opacity:1}}.done-card h2{font-size:1.6rem;margin-bottom:24px}.done-stats{display:flex;justify-content:center;gap:32px;margin-bottom:20px}.stat{display:flex;flex-direction:column;align-items:center}.stat-label{font-size:.8rem;color:var(--text-dim);margin-bottom:4px}.stat-value{font-size:1.8rem;font-weight:700;color:var(--accent)}.done-rating{margin-bottom:24px;font-size:1rem;color:var(--text-dim)}::-webkit-scrollbar{width:6px}::-webkit-scrollbar-track{background:var(--bg)}::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}@media(max-width:700px){.bridge-scene{flex-direction:column;min-height:auto}.bank{flex-direction:row;flex-wrap:wrap;justify-content:center;padding:12px}.bank-players{flex-direction:row;flex-wrap:wrap;max-width:none;justify-content:center}.bridge{width:100%;height:120px}.bridge-planks{flex-direction:row;top:50%;transform:translateY(-50%)}.bridge-rope.top{top:calc(50% - 35px)}.bridge-rope.bottom{top:calc(50% + 35px)}.game-header{flex-direction:column;gap:8px;text-align:center}.header-center{flex-direction:column;gap:4px}.setup-card{padding:24px 18px}}
